@model IEnumerable<PriceSafari.Models.StoreClass>

@{
    Layout = "~/Views/Shared/_PanelLayout.cshtml";
}

<style>
   
    .limited-width {
        max-width: 300px; 
        white-space: normal; 
        overflow-wrap: break-word;
        word-wrap: break-word; 
    }
</style>

<div class="Page-Box">
    <div class="Page-Box-Container">
        <div class="Horizontal">
            <div class="product-upper-box">
                <form asp-action="TruncateProductMaps" method="post">
                    <button type="submit" class="btn btn-danger">Usuń wszystkie pobrane dane z XMLi</button>
                </form>
            </div>
            <div class="Vert-table">
                <table class="table-orders">
                    <thead>
                        <tr>
                            <th>Nazwa Sklepu</th>
                            <th>URL Ceneo XML</th>
                            <th>URL Google XML</th>
                            <th>Akcje</th>
                            <th>Wizard Ceneo</th>
                            <th>Wizard Google</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var store in Model)
                        {
                            <tr>
                                <td>@store.StoreName</td>
                              
                                <td class="limited-width">@store.ProductMapXmlUrl</td>
                                <td class="limited-width">@store.ProductMapXmlUrlGoogle</td>
                                <td>
                                    @if (!string.IsNullOrEmpty(store.ProductMapXmlUrl))
                                    {
                                        <a asp-action="MappedProducts" asp-route-storeId="@store.StoreId" class="btn btn-secondary">Pokaż Zmapowane Produkty</a>
                                        <a asp-action="ProductXml" asp-route-storeId="@store.StoreId" class="btn btn-info">Pokaż Produkty XML</a>
                                    }
                                    else
                                    {
                                        <span>Brak URL do mapowania produktów</span>
                                    }
                                    @if (store.OnAllegro)
                                    {
                                        <a asp-action="MappedProductsAllegro" asp-route-storeId="@store.StoreId" class="btn btn-warning text-dark fw-bold" title="Zarządzaj produktami Allegro">
                                            <i class="fab fa-allegro"></i> Produkty Allegro
                                        </a>
                                    }
                                </td>
                                <td>
                                    @if (!string.IsNullOrEmpty(store.ProductMapXmlUrl))
                                    {
                                        <a asp-controller="CeneoImportWizardXml"
                                           asp-action="ShowCeneoFeedXml"
                                           asp-route-storeId="@store.StoreId"
                                           class="btn btn-warning">
                                            Wizard - CENEO
                                        </a>
                                    }
                                    else
                                    {
                                        <span>Brak URL do mapowania z Ceneo</span>
                                    }
                                </td>
                                <td>
                                    @if (!string.IsNullOrEmpty(store.ProductMapXmlUrlGoogle))
                                    {
                                        <a asp-controller="GoogleImportWizardXml"
                                           asp-action="ShowGoogleFeedXml"
                                           asp-route-storeId="@store.StoreId"
                                           class="btn btn-info">
                                            Wizard - GOOGLE
                                        </a>
                                    }
                                    else
                                    {
                                        <span>Brak URL do mapowania z Google Shopping</span>
                                    }
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
