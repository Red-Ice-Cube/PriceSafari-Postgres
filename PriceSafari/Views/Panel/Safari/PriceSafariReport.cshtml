@model List<PriceSafari.Models.PriceSafariReport>


@{
    ViewData["Title"] = "Lista Produktów";
    Layout = "~/Views/Shared/_PanelLayout.cshtml";
    var storeId = ViewBag.StoreId;
}





<div class="Vert">
    <div class="Vert-full">
        <div class="price-box-space">
            <div class="Order-Container-Title">
                Lista produktów @ViewBag.StoreName
                <div class="bar-List">
                    <div class="d-flex mb-3">
                        <a href="@Url.Action("Index", "Safari", new { storeId = ViewBag.StoreId })" class="btn btn-primary" style="margin-bottom: 20px;">Dodaj raport</a>

                       

                    </div>
                </div>
            </div>

            
        </div>
        @if (Model.Any())
    {
        <div class="Vert-table">
            <table class="table-orders">
                <thead>
                    <tr>
                        <th>Nazwa raportu</th>
                        <th>Data utworzenia</th>
                        <th>Status</th>
                        <th>Akcje</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var report in Model)
                    {
                        <tr>
                            <td>@report.ReportName</td>
                            <td>@report.CreatedDate.ToString("yyyy-MM-dd HH:mm")</td>
                            <td>
                                @if (report.Prepared == true)
                                {
                                    <span style="color: green;">Przygotowany</span>
                                }
                                else if (report.Prepared == false)
                                {
                                    <span style="color: red;">Nieprzygotowany</span>
                                }
                            </td>
                            <td>
                                    <a href="@Url.Action("SafariReportAnalysis", "Safari", new { reportId = report.ReportId })">Zobacz szczegóły raportu</a>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    }
        else
        {
            <p>Brak raportów do wyświetlenia.</p>
        }
    </div>
</div>
