function submitGenerateCodesForCart(){var n=document.getElementById("campaignName").value,t=Array.from(document.querySelectorAll(".table-products tbody tr")).map(n=>parseInt(n.getAttribute("data-id")));fetch("/CartCode/GenerateCodesForCart",{method:"POST",headers:{"Content-Type":"application/json",RequestVerificationToken:document.getElementsByName("__RequestVerificationToken")[0].value},body:JSON.stringify({CampaignName:n,ProductIds:t})}).then(n=>{if(n.ok)return n.json();throw new Error("Server responded with status: "+n.status);}).then(n=>{n.error?showAlert(n.error):n.redirectUrl?window.location.href=n.redirectUrl:showAlert("Otrzymano nieoczekiwan� odpowied�: "+JSON.stringify(n))}).catch(n=>{showAlert("Wyst�pi� b��d po��czenia z serwerem: "+n.message)})}function showAlert(n){let t=document.getElementById("alertContainer");t||(t=document.createElement("div"),t.id="alertContainer",document.body.appendChild(t));t.innerHTML="";const i=document.createElement("div");i.innerHTML=[`<div class="alert alert-danger d-flex align-items-center justify-content-center" role="alert" style="min-height: 50px; max-width: 80%; margin: 0 auto; color: #FFF; background: rgba(255, 0, 0, 0.76); padding: 0.4rem 1.2rem; position: fixed; bottom: 50px; left: 50%; transform: translateX(-50%); z-index: 1000;">`,`   <div class="text-center">${n}</div>`,"<\/div>"].join("");t.append(i);setTimeout(()=>{i.remove()},5e3)}document.addEventListener("DOMContentLoaded",function(){document.getElementById("campaignForm").onsubmit=function(n){n.preventDefault();submitGenerateCodesForCart()};document.getElementById("campaignName").addEventListener("keydown",function(n){n.key==="Enter"&&(n.preventDefault(),submitGenerateCodesForCart())})});