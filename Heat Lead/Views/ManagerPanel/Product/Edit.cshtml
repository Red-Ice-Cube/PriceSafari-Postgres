@model Heat_Lead.Models.ManagerViewModels.ManagerProductViewModel.ManagerProductEditViewModel

@{
    Layout = "~/Views/Shared/_PanelLayout.cshtml";
}

<div class="Page-Box">
    <div class="Page-Box-Container">
        <div class="Page-Box-Category">
            <div class="Category-Box-Title">
                Edytuj produkt
            </div>
            <partial name="_ManageNavCol" />
        </div>
        <div class="Horizontal">
            <img id="productImageDisplay" src="" alt="Brak zdjęcia" onerror="this.onerror=null; this.src='@Url.Content("~/images/No-Photo.jpg")'; this.alt='Domyślny obraz';" />
            <form asp-action="Edit" method="post" class="Column-Form">
                <input type="hidden" asp-for="ProductId" />

                <div class="form-group">
                    <label asp-for="ProductName" class="control-label">Nazwa produktu</label>
                    <input asp-for="ProductName" class="form-control" maxlength="50" title="Maksymalna długość 50 znaków" />
                    <span asp-validation-for="ProductName" class="text-danger"></span>
                </div>

                <div class="Horizontal">
                    <div class="form-group">
                        <label class="control-label">ID Produktu w sklepie</label>
                        <div id="productIdStoresContainer">
                            @foreach (var idStore in Model.ProductIdStores)
                            {
                                <input type="text" name="ProductIdStores" value="@idStore" class="form-control" maxlength="13" title="Proszę podać Id produktu." />
                            }
                        </div>
                        <button type="button" class="Button-Page-Small" style="margin-top:8px;" onclick="addProductIdStore()">Dodaj kolejne ID</button>
                    </div>

                    <div class="form-group">
                        <label asp-for="ProductPrice" class="control-label">Cena sprzedaży (PLN)</label>
                        <input asp-for="ProductPrice" class="form-control" type="number" step="0.01" />
                        <span asp-validation-for="ProductPrice" class="text-danger"></span>
                    </div>

                    <div class="form-group">
                        <label asp-for="AffiliateCommission" class="control-label">Prowizja Partnera (PLN)</label>
                        <input asp-for="AffiliateCommission" class="form-control" type="number" step="0.01" />
                        <span asp-validation-for="AffiliateCommission" class="text-danger"></span>
                    </div>
                </div>

                <div class="form-group">
                    <label asp-for="ProductURL" class="control-label">URL do karty produktu</label>
                    <input asp-for="ProductURL" class="form-control" />
                    <span asp-validation-for="ProductURL" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="ProductImage" class="control-label">URL do zdjęcia produktu</label>
                    <input id="productImageInput" asp-for="ProductImage" class="form-control" />
                    <span asp-validation-for="ProductImage" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="CategoryId" class="control-label">Kategoria</label>
                    <select asp-for="CategoryId" asp-items="ViewBag.Categories" class="form-control" required>
                        <option value="">Wybierz kategorię</option>
                    </select>
                    <span asp-validation-for="CategoryId" class="text-danger"></span>
                </div>

                <div class="product-upper-box">
                    <button type="submit" class="Button-Add-Small">Zapisz zmiany</button>
                    <div>
                        <a asp-action="Details" class="Button-Page-Small-r" asp-route-id="@Model.ProductId">Usuń produkt</a>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    var noPhotoUrl = '@Url.Content("~/images/No-Photo.jpg")';
</script>

<script src="/js/Manager/productmanager.min.js"></script>
